# note-gen

基于字幕与视频生成分层 AI 笔记（含自动截帧与多模态优选）。

## 功能概述
- 解析 ASS / VTT / SRT 字幕为统一结构
- 调用文本 LLM 将“完整字幕内容”分章、分段（不做摘要、不丢内容）
- 为每个段落等距生成 9 张低清截图拼九宫格，由多模态 LLM 选择最佳帧
- 对最佳帧按相同时间戳重拍高清图
- 导出包含所有原字幕内容与截图的 Markdown
- 提供 PySide6 GUI：文件选择、参数配置（含通用 LLM 与多模态 LLM）、任务队列、参数记忆（cache.json）

## 运行前置
- Python 由 uv 管理（本项目不依赖系统 `python` 命令）
- 建议已安装 `ffmpeg`（用于高质量与高性能截图）

## 快速开始
1. 安装依赖：`uv sync`
2. 启动 GUI：`uv run python run_gui.py`

## 目录结构
- `core/` 核心代码（低耦合高内聚，面向对象）
- `evidence/` 证据与日志归档（可审计）
- `outputs/` 生成的 Markdown 与截图文件

## 失败与重试
- 外部调用（LLM/截图）失败按策略最多重试 3 次；达到上限则快速失败并记录证据

## 版权
- 本项目代码无额外版权头，遵循仓库整体策略。

